<template>
  <div class="name-grid">
    <NameGridItem class="item" letter="J" is-key>
      <div class="p-5">
        <p class="mb-2">
          Nam nec varius quam, at molestie magna. Aliquam iaculis mi non dolor
          malesuada suscipit. Mauris interdum interdum commodo. Mauris ligula
          dolor, porttitor at nibh eget, feugiat consequat felis. Maecenas
          pulvinar ac purus pretium dapibus. Cras hendrerit lorem vel sagittis
          tempus.
        </p>
        <p>
          Fusce euismod, sapien vel posuere feugiat, tellus ante bibendum ipsum,
          vitae fermentum nulla tellus nec erat. Praesent ac turpis augue. Sed
          bibendum mi velit, quis porttitor tortor tristique vel. Duis ac
          pulvinar dui.
        </p>
      </div>
    </NameGridItem>

    <NameGridItem class="item" letter="a">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1554921027-b91f0beeb07d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="r">
      <div class="p-5">
        <p class="mb-2">
          Nam nec varius quam, at molestie magna. Aliquam iaculis mi non dolor
          malesuada suscipit. Mauris interdum interdum commodo. Mauris ligula
          dolor, porttitor at nibh eget, feugiat consequat felis. Maecenas
          pulvinar ac purus pretium dapibus. Cras hendrerit lorem vel sagittis
          tempus.
        </p>
        <p>
          Fusce euismod, sapien vel posuere feugiat, tellus ante bibendum ipsum,
          vitae fermentum nulla tellus nec erat. Praesent ac turpis augue. Sed
          bibendum mi velit, quis porttitor tortor tristique vel. Duis ac
          pulvinar dui.
        </p>
      </div>
    </NameGridItem>

    <NameGridItem class="item" letter="o">
      <div class="p-5">
        <p class="mb-2">
          Nam nec varius quam, at molestie magna. Aliquam iaculis mi non dolor
          malesuada suscipit. Mauris interdum interdum commodo. Mauris ligula
          dolor, porttitor at nibh eget, feugiat consequat felis. Maecenas
          pulvinar ac purus pretium dapibus. Cras hendrerit lorem vel sagittis
          tempus.
        </p>
        <p>
          Fusce euismod, sapien vel posuere feugiat, tellus ante bibendum ipsum,
          vitae fermentum nulla tellus nec erat. Praesent ac turpis augue. Sed
          bibendum mi velit, quis porttitor tortor tristique vel. Duis ac
          pulvinar dui.
        </p>
      </div>
    </NameGridItem>

    <NameGridItem class="item" letter="d">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1626726092122-f5b2af39faf6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=986&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="H" is-key>
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1533279443086-d1c19a186416?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=3132&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="a">
      <div>more content</div>
    </NameGridItem>

    <NameGridItem class="item" letter="r">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1617293109458-f51db3f9e033?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=3097&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="g">
      <div>more content</div>
    </NameGridItem>

    <NameGridItem class="item" letter="r">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1533279443086-d1c19a186416?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=3132&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="e">
      <div>more content</div>
    </NameGridItem>

    <NameGridItem class="item" letter="a">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1554921027-b91f0beeb07d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80"
      >
    </NameGridItem>

    <NameGridItem class="item" letter="v">
      <div class="p-5">
        <p class="mb-2">
          Nam nec varius quam, at molestie magna. Aliquam iaculis mi non dolor
          malesuada suscipit. Mauris interdum interdum commodo. Mauris ligula
          dolor, porttitor at nibh eget, feugiat consequat felis. Maecenas
          pulvinar ac purus pretium dapibus. Cras hendrerit lorem vel sagittis
          tempus.
        </p>
        <p>
          Fusce euismod, sapien vel posuere feugiat, tellus ante bibendum ipsum,
          vitae fermentum nulla tellus nec erat. Praesent ac turpis augue. Sed
          bibendum mi velit, quis porttitor tortor tristique vel. Duis ac
          pulvinar dui.
        </p>
      </div>
    </NameGridItem>

    <NameGridItem class="item" letter="e">
      <div>more content</div>
    </NameGridItem>

    <NameGridItem class="item" letter="s">
      <img
        class="w-full h-full object-cover"
        src="https://images.unsplash.com/photo-1617293109458-f51db3f9e033?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=3097&q=80"
      >
    </NameGridItem>
  </div>
</template>

<style lang="scss" scoped>
.name-grid {
  @apply grid h-full w-full gap-2 p-2;

  --columns: 1fr 1fr 1fr;
  --rows: 1fr 1fr 1fr 1fr 1fr;

  @screen md {
    --columns: 1fr 1fr 1fr 1fr 1fr;
    --rows: 1fr 1fr 1fr;
  }

  grid-template-columns: var(--columns);
  grid-template-rows: var(--rows);
  transition: grid 0.7s;

  @screen md {
    $rows: (
      (1, 5, "3fr 1fr 1fr"),
      (6, 10, "1fr 3fr 1fr"),
      (11, 15, "1fr 1fr 3fr")
    );

    @each $r in $rows {
      @for $i from nth($r, 1) through nth($r, 2) {
        &:has(.item:nth-of-type(#{$i}):hover) {
          --rows: #{nth($r, 3)};
        }
      }
    }

    $columns: (
      ((1, 6, 11), "4fr 1fr 1fr 1fr 1fr") ((2, 7, 12), "1fr 4fr 1fr 1fr 1fr")
        ((3, 8, 13), "1fr 1fr 4fr 1fr 1fr") ((4, 9, 14), "1fr 1fr 1fr 4fr 1fr")
        ((5, 10, 15), "1fr 1fr 1fr 1fr 4fr")
    );

    @each $c in $columns {
      @each $i in nth($c, 1) {
        &:has(.item:nth-of-type(#{$i}):hover) {
          --columns: #{nth($c, 2)};
        }
      }
    }
  }
}
</style>
